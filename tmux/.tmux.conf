# Better history
set -g history-limit 10000     # increase scrollback history
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"
# Mouse support
set -g mouse

# Split shortcuts (like i3/bspwm style)
bind | split-window -h         # prefix + |
bind - split-window -v         # prefix + -
unbind '"'
unbind %

# Pane navigation with vim-like keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Resize panes
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# Reload config
bind r source-file ~/.tmux.conf \; display-message "Config reloaded"
# TPM itself
set -g @plugin 'tmux-plugins/tpm'

# Tokyo Night theme
set -g @plugin 'fabioluciano/tmux-tokyo-night'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'
set -g @plugin 'omerxx/tmux-floax'
set -g @tokyo-night-tmux-style 'night'  # варианты: night, storm, moon, day

set -g @theme_variation 'night'
set -g @theme_plugins 'uptime,weather,cpu,memory,datetime'
set -g @theme_session_icon 'auto'
set -g @theme_plugin_weather_location 'Tallinn'
set -g @theme_plugin_weather_unit 'm'
set -g @theme_plugin_weather_cache_ttl 600
set -g @theme_plugin_weather_format 'full'

set -g @floax-bind 't'
set -g @floax-bind-menu 'T'

# IMPORTANT: use $HOME instead of ~ on macOS
run-shell "$HOME/.tmux/plugins/tpm/tpm"

bind p previous-window

unbind -T root WheelUpPane
unbind -T root WheelDownPane
